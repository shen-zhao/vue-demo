<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>data</title>
</head>
<body>

<div id="mount-point"></div>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script>
    /*
    🙂 类型  
       Object | Function
    ⏰ 限制
       组件的定义只接受 function。
    🙂 详细
        Vue 实例的数据对象。Vue 将会递归将 data 的属性转换为 getter/setter，从而让 data 的属性能够响应数据变化。
         对象必须是纯粹的对象 (含有零个或多个的 key/value 对)：浏览器 API 创建的原生对象，原型上的属性会被忽略。
         大概来说，data 应该只能是数据 - 不推荐观察拥有状态行为的对象。

        一旦观察过，不需要再次在数据对象上添加响应式属性。
         因此推荐在创建实例之前，就声明所有的根级响应式属性。

        实例创建之后，可以通过 vm.$data 访问原始数据对象。
         Vue 实例也代理了 data 对象上所有的属性，因此访问 vm.a 等价于访问 vm.$data.a。

        🎈 以 _ 或 $ 开头的属性 不会 被 Vue 实例代理，因为它们可能和 Vue 内置的属性、API 方法冲突。
         你可以使用例如 vm.$data._property 的方式访问这些属性。

        当一个组件被定义，data 必须声明为返回一个初始数据对象的函数，因为组件可能被用来创建多个实例。
         如果 data 仍然是一个纯粹的对象，则所有的实例将共享引用同一个数据对象！
         通过提供 data 函数，每次创建一个新实例后，我们能够调用 data 函数，从而返回初始数据的一个全新副本数据对象。

        🎈 如果需要，可以通过将 vm.$data 传入 JSON.parse(JSON.stringify(...)) 得到深拷贝的原始数据对象。

    🍎 注意，如果你为 data 属性使用了箭头函数，则 this 不会指向这个组件的实例，
        不过你仍然可以将其实例作为函数的第一个参数来访问。
        data: vm => ({ a: vm.myProp })
    🌰 
    */
    var data = { a: 1 }

    // 直接创建一个实例
    var vm = new Vue({
        data: data
    })
    vm.a // => 1
    vm.$data === data // => true

    // Vue.extend() 中 data 必须是函数
    var Component = Vue.extend({
        data: function () {
            return { a: 1 }
        }
    })




   var str = '发现了一种新奇的深拷贝对象的方法，JSON.parse(JSON.stringify(...))，局限：不能拷贝原型上的属性方法'

   var json = {a: {b: 'b'}, c: 'c'};

   var jsonCopy = JSON.parse(JSON.stringify(json));

   console.log(json !== jsonCopy);  //true

</script>
</body>
</html>