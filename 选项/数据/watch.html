<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>watch</title>
</head>
<body>

<div id="mount-point"></div>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script>
    /*
    ðŸ™‚ ç±»åž‹  
       { [key: string]: string | Function | Object | Array }
    ðŸ™‚ è¯¦ç»†
        ä¸€ä¸ªå¯¹è±¡ï¼Œé”®æ˜¯éœ€è¦è§‚å¯Ÿçš„è¡¨è¾¾å¼ï¼Œå€¼æ˜¯å¯¹åº”å›žè°ƒå‡½æ•°ã€‚
        å€¼ä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•åï¼Œæˆ–è€…åŒ…å«é€‰é¡¹çš„å¯¹è±¡ã€‚
        Vue å®žä¾‹å°†ä¼šåœ¨å®žä¾‹åŒ–æ—¶è°ƒç”¨ $watch()ï¼ŒéåŽ† watch å¯¹è±¡çš„æ¯ä¸€ä¸ªå±žæ€§ã€‚

    ðŸŽˆ  æ³¨æ„ï¼Œä¸åº”è¯¥ä½¿ç”¨ç®­å¤´å‡½æ•°æ¥å®šä¹‰ watcher å‡½æ•° (ä¾‹å¦‚ searchQuery: newValue => this.updateAutocomplete(newValue))ã€‚
        ç†ç”±æ˜¯ç®­å¤´å‡½æ•°ç»‘å®šäº†çˆ¶çº§ä½œç”¨åŸŸçš„ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥ this å°†ä¸ä¼šæŒ‰ç…§æœŸæœ›æŒ‡å‘ Vue å®žä¾‹ï¼Œthis.updateAutocomplete å°†æ˜¯ undefinedã€‚
    ðŸŒ° 
    */
    var vm = new Vue({
        data: {
                a: 1,
                b: 2,
                c: 3,
                d: 4,
                e: {
                f: {
                    g: 5
                }
            }
        },
        watch: {
            a: function (val, oldVal) {
                console.log('new: %s, old: %s', val, oldVal)
            },
            // æ–¹æ³•å
            b: 'someMethod',
            // æ·±åº¦ watcher
            c: {
                handler: function (val, oldVal) { /* ... */ },
                deep: true
            },
            // è¯¥å›žè°ƒå°†ä¼šåœ¨ä¾¦å¬å¼€å§‹ä¹‹åŽè¢«ç«‹å³è°ƒç”¨
            d: {
                handler: function (val, oldVal) { /* ... */ },
                immediate: true
            },
            e: [
                function handle1 (val, oldVal) { /* ... */ },
                function handle2 (val, oldVal) { /* ... */ }
            ],
            // watch vm.e.f's value: {g: 5}
            'e.f': function (val, oldVal) { /* ... */ }
        }
    })
    vm.a = 2 // => new: 2, old: 1

</script>
</body>
</html>