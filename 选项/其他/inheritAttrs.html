<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>inheritAttrs</title>
</head>
<body>

<div id="mount-point"></div>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script>
    /*
    inheritAttrs
    ğŸ™‚ ç±»å‹  
      {boolean}
    ğŸ™‚ é»˜è®¤å€¼
       true
    ğŸ™‚ è¯¦æƒ…
        é»˜è®¤æƒ…å†µä¸‹çˆ¶ä½œç”¨åŸŸçš„ä¸è¢«è®¤ä½œ props çš„å±æ€§ç»‘å®š (attribute bindings) å°†ä¼šâ€œå›é€€â€ä¸”ä½œä¸ºæ™®é€šçš„ HTML ç‰¹æ€§åº”ç”¨åœ¨å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚
        å½“æ’°å†™åŒ…è£¹ä¸€ä¸ªç›®æ ‡å…ƒç´ æˆ–å¦ä¸€ä¸ªç»„ä»¶çš„ç»„ä»¶æ—¶ï¼Œè¿™å¯èƒ½ä¸ä¼šæ€»æ˜¯ç¬¦åˆé¢„æœŸè¡Œä¸ºã€‚
        é€šè¿‡è®¾ç½® inheritAttrs åˆ° falseï¼Œè¿™äº›é»˜è®¤è¡Œä¸ºå°†ä¼šè¢«å»æ‰ã€‚
        è€Œé€šè¿‡ (åŒæ ·æ˜¯ 2.4 æ–°å¢çš„) å®ä¾‹å±æ€§ $attrs å¯ä»¥è®©è¿™äº›ç‰¹æ€§ç”Ÿæ•ˆï¼Œä¸”å¯ä»¥é€šè¿‡ v-bind æ˜¾æ€§çš„ç»‘å®šåˆ°éæ ¹å…ƒç´ ä¸Šã€‚
    
    ğŸŒ° 
    */
    //å¦‚æœä½ ä¸å¸Œæœ›ç»„ä»¶çš„æ ¹å…ƒç´ ç»§æ‰¿ç‰¹æ€§ï¼Œä½ å¯ä»¥è®¾ç½®åœ¨ç»„ä»¶çš„é€‰é¡¹ä¸­è®¾ç½® inheritAttrs: falseã€‚ä¾‹å¦‚ï¼š

    Vue.component('my-component', {
        inheritAttrs: false,
        // ...
    })



    //è¿™å°¤å…¶é€‚åˆé…åˆå®ä¾‹çš„ $attrs å±æ€§ä½¿ç”¨ï¼Œè¯¥å±æ€§åŒ…å«äº†ä¼ é€’ç»™ä¸€ä¸ªç»„ä»¶çš„ç‰¹æ€§åå’Œç‰¹æ€§å€¼ï¼Œä¾‹å¦‚ï¼š
    /*
    {
        class: 'username-input',
        placeholder: 'Enter your username'
    }
    */
    //æœ‰äº† inheritAttrs: false å’Œ $attrsï¼Œä½ å°±å¯ä»¥æ‰‹åŠ¨å†³å®šè¿™äº›ç‰¹æ€§ä¼šè¢«èµ‹äºˆå“ªä¸ªå…ƒç´ ã€‚åœ¨æ’°å†™åŸºç¡€ç»„ä»¶çš„æ—¶å€™æ˜¯å¸¸ä¼šç”¨åˆ°çš„ï¼š
    //å­ç»„ä»¶
    Vue.component('base-input', {
        inheritAttrs: false,
        props: ['label', 'value'],
        template: `
            <label>
            {{ label }}
            <input
                v-bind="$attrs"
                v-bind:value="value"
                v-on:input="$emit('input', $event.target.value)"
            >
            </label>
        `
    })
    //åœ¨ä¸€ä¸ªå®ä¾‹ä¸­è°ƒç”¨å­ç»„ä»¶å¹¶ä¼ å…¥å±æ€§
    new Vue({
        el: '#mount-point',
        component: ['base-input'],
        data: {
            form: {
                class: 'username-input',
                placeholder: 'Enter your username'
            }
        },
        template: '<div><base-input v-bind="form"><div>'
    });

    //è¿™ä¸ªæ¨¡å¼å…è®¸ä½ åœ¨ä½¿ç”¨åŸºç¡€ç»„ä»¶çš„æ—¶å€™æ›´åƒæ˜¯ä½¿ç”¨åŸå§‹çš„ HTML å…ƒç´ ï¼Œè€Œä¸ä¼šæ‹…å¿ƒå“ªä¸ªå…ƒç´ æ˜¯çœŸæ­£çš„æ ¹å…ƒç´ ï¼š
    /*
    æ¸²æŸ“ç»“æ„
    <base-input
        v-model="username"
        class="username-input"
        placeholder="Enter your username"
    ></base-input>
    */

    /*ğŸ¤” ä¸ªäººæ€»ç»“ï¼Œè°ƒç”¨ç»„ä»¶æ—¶ï¼Œç»„ä»¶ä¸Šæ·»åŠ çš„å±æ€§å¦‚æœå¦‚æœä¸æ˜¯ä»¥propå½¢å¼æ¥æ”¶ï¼Œä»–ä¼šé»˜è®¤ä¼šæ·»åŠ åˆ°æ ¹å…ƒç´ ä¸Šï¼Œä½†æ˜¯è¿™å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚
        æˆ‘ä»¬æƒ³æŠŠä»–æ·»åŠ åˆ°ç»„ä»¶ä¸­çš„æŸä¸ªå…ƒç´ ä¸Šï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¦å…³é—­é»˜è®¤çš„æ¥å—è¡Œä¸ºï¼Œå³inheritAttrsè®¾ç½®false,ç„¶åç»“åˆå®ä¾‹å±æ€§$attræŠŠå±æ€§æ·»åŠ åˆ°ç›®æ ‡ç»„ä»¶æˆ–å…ƒç´ ä¸Š
    */
</script>
</body>
</html>